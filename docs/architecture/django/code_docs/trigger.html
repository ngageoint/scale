

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>trigger package &mdash; Scale 4.0.0-snapshot documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Scale 4.0.0-snapshot documentation" href="../../../index.html"/>
        <link rel="up" title="Django/Code Base" href="../index.html"/>
        <link rel="next" title="trigger.configuration package" href="trigger.configuration.html"/>
        <link rel="prev" title="storage.test.configuration package" href="storage.test.configuration.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> Scale
          

          
            
            <img src="../../../_static/scale3-transparent-128.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                4.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cli/index.html">Command Line Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../algorithm_integration/index.html">Algorithm Integration into Scale</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Architecture</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jobs/index.html">Jobs and Recipes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../logs.html">ElasticSearch Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../port.html">Import/Export</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../strike.html">Strike</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../triggers.html">Triggers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../workspaces.html">Workspaces</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Django/Code Base</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="batch.html">batch package</a></li>
<li class="toctree-l3"><a class="reference internal" href="cli.html">cli package</a></li>
<li class="toctree-l3"><a class="reference internal" href="error.html">error package</a></li>
<li class="toctree-l3"><a class="reference internal" href="ingest.html">ingest package</a></li>
<li class="toctree-l3"><a class="reference internal" href="job.html">job package</a></li>
<li class="toctree-l3"><a class="reference internal" href="mesos_api.html">mesos_api package</a></li>
<li class="toctree-l3"><a class="reference internal" href="metrics.html">metrics package</a></li>
<li class="toctree-l3"><a class="reference internal" href="node.html">node package</a></li>
<li class="toctree-l3"><a class="reference internal" href="port.html">port package</a></li>
<li class="toctree-l3"><a class="reference internal" href="product.html">product package</a></li>
<li class="toctree-l3"><a class="reference internal" href="queue.html">queue package</a></li>
<li class="toctree-l3"><a class="reference internal" href="recipe.html">recipe package</a></li>
<li class="toctree-l3"><a class="reference internal" href="scheduler.html">scheduler package</a></li>
<li class="toctree-l3"><a class="reference internal" href="shared_resource.html">shared_resource package</a></li>
<li class="toctree-l3"><a class="reference internal" href="source.html">source package</a></li>
<li class="toctree-l3"><a class="reference internal" href="storage.html">storage package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">trigger package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-trigger.apps">trigger.apps module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-trigger.handler">trigger.handler module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-trigger.models">trigger.models module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-trigger.serializers">trigger.serializers module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-trigger">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="util.html">util package</a></li>
<li class="toctree-l3"><a class="reference internal" href="manage.html">manage module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../rest/index.html">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/index.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../development/index.html">Development</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">Scale</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Architecture</a> &raquo;</li>
      
          <li><a href="../index.html">Django/Code Base</a> &raquo;</li>
      
    <li>trigger package</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/architecture/django/code_docs/trigger.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="trigger-package">
<h1>trigger package<a class="headerlink" href="#trigger-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="trigger.configuration.html">trigger.configuration package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="trigger.configuration.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="trigger.configuration.html#module-trigger.configuration.exceptions">trigger.configuration.exceptions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="trigger.configuration.html#module-trigger.configuration.trigger_rule">trigger.configuration.trigger_rule module</a></li>
<li class="toctree-l2"><a class="reference internal" href="trigger.configuration.html#module-trigger.configuration">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="trigger.migrations.html">trigger.migrations package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="trigger.migrations.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="trigger.migrations.html#module-trigger.migrations.0001_initial">trigger.migrations.0001_initial module</a></li>
<li class="toctree-l2"><a class="reference internal" href="trigger.migrations.html#module-trigger.migrations.0002_auto_20151125_1438">trigger.migrations.0002_auto_20151125_1438 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="trigger.migrations.html#module-trigger.migrations.0003_auto_20151202_1325">trigger.migrations.0003_auto_20151202_1325 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="trigger.migrations.html#module-trigger.migrations.0004_auto_20151207_1215">trigger.migrations.0004_auto_20151207_1215 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="trigger.migrations.html#module-trigger.migrations">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="trigger.test.html">trigger.test package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="trigger.test.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="trigger.test.html#module-trigger.test.tests">trigger.test.tests module</a></li>
<li class="toctree-l2"><a class="reference internal" href="trigger.test.html#module-trigger.test.utils">trigger.test.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="trigger.test.html#module-trigger.test">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-trigger.apps">
<span id="trigger-apps-module"></span><h2>trigger.apps module<a class="headerlink" href="#module-trigger.apps" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="trigger.apps.TriggerConfig">
<em class="property">class </em><code class="descclassname">trigger.apps.</code><code class="descname">TriggerConfig</code><span class="sig-paren">(</span><em>app_name</em>, <em>app_module</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.apps.TriggerConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.apps.config.AppConfig</span></code></p>
<p>Configuration for the trigger app</p>
<dl class="attribute">
<dt id="trigger.apps.TriggerConfig.label">
<code class="descname">label</code><em class="property"> = u'trigger'</em><a class="headerlink" href="#trigger.apps.TriggerConfig.label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="trigger.apps.TriggerConfig.name">
<code class="descname">name</code><em class="property"> = u'trigger'</em><a class="headerlink" href="#trigger.apps.TriggerConfig.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="trigger.apps.TriggerConfig.verbose_name">
<code class="descname">verbose_name</code><em class="property"> = u'Trigger'</em><a class="headerlink" href="#trigger.apps.TriggerConfig.verbose_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-trigger.handler">
<span id="trigger-handler-module"></span><h2>trigger.handler module<a class="headerlink" href="#module-trigger.handler" title="Permalink to this headline">¶</a></h2>
<p>Defines the base class for handling trigger rules and provides apps a way to register handler sub-classes</p>
<dl class="class">
<dt id="trigger.handler.TriggerRuleHandler">
<em class="property">class </em><code class="descclassname">trigger.handler.</code><code class="descname">TriggerRuleHandler</code><span class="sig-paren">(</span><em>trigger_rule_type</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.handler.TriggerRuleHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Base class for handling trigger rules</p>
<dl class="method">
<dt id="trigger.handler.TriggerRuleHandler.create_configuration">
<code class="descname">create_configuration</code><span class="sig-paren">(</span><em>config_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.handler.TriggerRuleHandler.create_configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and returns a trigger rule configuration from the given dict</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config_dict</strong> (<em>dict</em>) &#8211; The configuration as a dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The trigger rule configuration</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="trigger.configuration.html#trigger.configuration.trigger_rule.TriggerRuleConfiguration" title="trigger.configuration.trigger_rule.TriggerRuleConfiguration"><code class="xref py py-class docutils literal"><span class="pre">trigger.configuration.trigger_rule.TriggerRuleConfiguration</span></code></a></td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="trigger.configuration.html#trigger.configuration.exceptions.InvalidTriggerRule" title="trigger.configuration.exceptions.InvalidTriggerRule"><code class="xref py py-class docutils literal"><span class="pre">trigger.configuration.exceptions.InvalidTriggerRule</span></code></a>: If the configuration is invalid</p>
</dd></dl>

<dl class="method">
<dt id="trigger.handler.TriggerRuleHandler.create_trigger_rule">
<code class="descname">create_trigger_rule</code><span class="sig-paren">(</span><em>config_dict</em>, <em>name=None</em>, <em>is_active=True</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.handler.TriggerRuleHandler.create_trigger_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and returns a trigger rule model with the given configuration. The returned trigger rule model will
be saved in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>config_dict</strong> (<em>dict</em>) &#8211; The configuration as a dict</li>
<li><strong>name</strong> (<em>string</em>) &#8211; An optional name for the trigger</li>
<li><strong>is_active</strong> (<em>bool</em>) &#8211; Whether or not the trigger should be active</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The new trigger rule</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#trigger.models.TriggerRule" title="trigger.models.TriggerRule"><code class="xref py py-class docutils literal"><span class="pre">trigger.models.TriggerRule</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="trigger.configuration.html#trigger.configuration.exceptions.InvalidTriggerRule" title="trigger.configuration.exceptions.InvalidTriggerRule"><strong>trigger.configuration.exceptions.InvalidTriggerRule</strong></a> &#8211; If the configuration is invalid</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="trigger.handler.get_trigger_rule_handler">
<code class="descclassname">trigger.handler.</code><code class="descname">get_trigger_rule_handler</code><span class="sig-paren">(</span><em>trigger_rule_type</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.handler.get_trigger_rule_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the trigger rule handler that is registered with the given type</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>trigger_rule_type</strong> (<em>string</em>) &#8211; The trigger rule type</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The trigger rule handler, possibly None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#trigger.handler.TriggerRuleHandler" title="trigger.handler.TriggerRuleHandler"><code class="xref py py-class docutils literal"><span class="pre">trigger.handler.TriggerRuleHandler</span></code></a></td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="trigger.configuration.html#trigger.configuration.exceptions.InvalidTriggerType" title="trigger.configuration.exceptions.InvalidTriggerType"><code class="xref py py-class docutils literal"><span class="pre">trigger.configuration.exceptions.InvalidTriggerType</span></code></a>: If the trigger type is invalid</p>
</dd></dl>

<dl class="function">
<dt id="trigger.handler.register_trigger_rule_handler">
<code class="descclassname">trigger.handler.</code><code class="descname">register_trigger_rule_handler</code><span class="sig-paren">(</span><em>trigger_rule_handler</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.handler.register_trigger_rule_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers the given trigger rule handler with the given type</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>trigger_rule_handler</strong> (<a class="reference internal" href="#trigger.handler.TriggerRuleHandler" title="trigger.handler.TriggerRuleHandler"><code class="xref py py-class docutils literal"><span class="pre">trigger.handler.TriggerRuleHandler</span></code></a>) &#8211; The trigger rule handler</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-trigger.models">
<span id="trigger-models-module"></span><h2>trigger.models module<a class="headerlink" href="#module-trigger.models" title="Permalink to this headline">¶</a></h2>
<p>Defines the models for trigger rules and events</p>
<dl class="class">
<dt id="trigger.models.TriggerEvent">
<em class="property">class </em><code class="descclassname">trigger.models.</code><code class="descname">TriggerEvent</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.models.TriggerEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.db.models.base.Model</span></code></p>
<p>Represents an event where a trigger occurred</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>type</strong> (<code class="xref py py-class docutils literal"><span class="pre">django.db.models.CharField</span></code>) &#8211; The type of the trigger that occurred</li>
<li><strong>rule</strong> (<code class="xref py py-class docutils literal"><span class="pre">django.db.models.ForeignKey</span></code>) &#8211; The rule that triggered this event, possibly None (some events are not triggered by rules)</li>
<li><strong>description</strong> (<code class="xref py py-class docutils literal"><span class="pre">djorm_pgjson.fields.JSONField</span></code>) &#8211; JSON description of the event. This will contain fields specific to the type of the trigger
that occurred.</li>
<li><strong>occurred</strong> (<code class="xref py py-class docutils literal"><span class="pre">django.db.models.DateTimeField</span></code>) &#8211; When the event occurred</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="exception">
<dt id="trigger.models.TriggerEvent.DoesNotExist">
<em class="property">exception </em><code class="descname">DoesNotExist</code><a class="headerlink" href="#trigger.models.TriggerEvent.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.core.exceptions.ObjectDoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="trigger.models.TriggerEvent.MultipleObjectsReturned">
<em class="property">exception </em><code class="descclassname">TriggerEvent.</code><code class="descname">MultipleObjectsReturned</code><a class="headerlink" href="#trigger.models.TriggerEvent.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.core.exceptions.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="trigger.models.TriggerEvent.batch_set">
<code class="descclassname">TriggerEvent.</code><code class="descname">batch_set</code><a class="headerlink" href="#trigger.models.TriggerEvent.batch_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="trigger.models.TriggerEvent.description">
<code class="descclassname">TriggerEvent.</code><code class="descname">description</code><a class="headerlink" href="#trigger.models.TriggerEvent.description" title="Permalink to this definition">¶</a></dt>
<dd><p>A placeholder class that provides a way to set the attribute on the model.</p>
</dd></dl>

<dl class="method">
<dt id="trigger.models.TriggerEvent.get_next_by_occurred">
<code class="descclassname">TriggerEvent.</code><code class="descname">get_next_by_occurred</code><span class="sig-paren">(</span><em>*moreargs</em>, <em>**morekwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.models.TriggerEvent.get_next_by_occurred" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="trigger.models.TriggerEvent.get_previous_by_occurred">
<code class="descclassname">TriggerEvent.</code><code class="descname">get_previous_by_occurred</code><span class="sig-paren">(</span><em>*moreargs</em>, <em>**morekwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.models.TriggerEvent.get_previous_by_occurred" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="trigger.models.TriggerEvent.job_set">
<code class="descclassname">TriggerEvent.</code><code class="descname">job_set</code><a class="headerlink" href="#trigger.models.TriggerEvent.job_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="trigger.models.TriggerEvent.objects">
<code class="descclassname">TriggerEvent.</code><code class="descname">objects</code><em class="property"> = &lt;trigger.models.TriggerEventManager object&gt;</em><a class="headerlink" href="#trigger.models.TriggerEvent.objects" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="trigger.models.TriggerEvent.recipe_set">
<code class="descclassname">TriggerEvent.</code><code class="descname">recipe_set</code><a class="headerlink" href="#trigger.models.TriggerEvent.recipe_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="trigger.models.TriggerEvent.rule">
<code class="descclassname">TriggerEvent.</code><code class="descname">rule</code><a class="headerlink" href="#trigger.models.TriggerEvent.rule" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="trigger.models.TriggerEventManager">
<em class="property">class </em><code class="descclassname">trigger.models.</code><code class="descname">TriggerEventManager</code><a class="headerlink" href="#trigger.models.TriggerEventManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.db.models.manager.Manager</span></code></p>
<p>Provides additional methods for handling trigger events</p>
<dl class="method">
<dt id="trigger.models.TriggerEventManager.create_trigger_event">
<code class="descname">create_trigger_event</code><span class="sig-paren">(</span><em>trigger_type</em>, <em>rule</em>, <em>description</em>, <em>occurred</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.models.TriggerEventManager.create_trigger_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new trigger event and returns the event model. The given rule model, if not None, must have already
been saved in the database (it must have an ID). The returned trigger event model will be saved in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>trigger_type</strong> (<em>str</em>) &#8211; The type of the trigger that occurred</li>
<li><strong>rule</strong> (<a class="reference internal" href="#trigger.models.TriggerRule" title="trigger.models.TriggerRule"><code class="xref py py-class docutils literal"><span class="pre">trigger.models.TriggerRule</span></code></a>) &#8211; The rule that triggered the event, possibly None</li>
<li><strong>description</strong> (<em>dict</em>) &#8211; The JSON description of the event as a dict</li>
<li><strong>occurred</strong> (<code class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></code>) &#8211; When the event occurred</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The new trigger event</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#trigger.models.TriggerEvent" title="trigger.models.TriggerEvent"><code class="xref py py-class docutils literal"><span class="pre">trigger.models.TriggerEvent</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trigger.models.TriggerRule">
<em class="property">class </em><code class="descclassname">trigger.models.</code><code class="descname">TriggerRule</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.models.TriggerRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.db.models.base.Model</span></code></p>
<p>Represents a rule that, when triggered, creates a trigger event</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>type</strong> (<code class="xref py py-class docutils literal"><span class="pre">django.db.models.CharField</span></code>) &#8211; The type of the trigger for the rule</li>
<li><strong>name</strong> (<code class="xref py py-class docutils literal"><span class="pre">django.db.models.CharField</span></code>) &#8211; The identifying name of the trigger rule used by clients for queries</li>
<li><strong>configuration</strong> (<code class="xref py py-class docutils literal"><span class="pre">djorm_pgjson.fields.JSONField</span></code>) &#8211; JSON configuration for the rule. This will contain fields specific to the type of the
trigger.</li>
<li><strong>is_active</strong> (<code class="xref py py-class docutils literal"><span class="pre">django.db.models.BooleanField</span></code>) &#8211; Whether the rule is still active (false once rule is archived)</li>
<li><strong>created</strong> (<code class="xref py py-class docutils literal"><span class="pre">django.db.models.DateTimeField</span></code>) &#8211; When the rule was created</li>
<li><strong>archived</strong> (<code class="xref py py-class docutils literal"><span class="pre">django.db.models.DateTimeField</span></code>) &#8211; When the rule was archived (no longer active)</li>
<li><strong>last_modified</strong> (<code class="xref py py-class docutils literal"><span class="pre">django.db.models.DateTimeField</span></code>) &#8211; When the rule was last modified</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="exception">
<dt id="trigger.models.TriggerRule.DoesNotExist">
<em class="property">exception </em><code class="descname">DoesNotExist</code><a class="headerlink" href="#trigger.models.TriggerRule.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.core.exceptions.ObjectDoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="trigger.models.TriggerRule.MultipleObjectsReturned">
<em class="property">exception </em><code class="descclassname">TriggerRule.</code><code class="descname">MultipleObjectsReturned</code><a class="headerlink" href="#trigger.models.TriggerRule.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.core.exceptions.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="trigger.models.TriggerRule.configuration">
<code class="descclassname">TriggerRule.</code><code class="descname">configuration</code><a class="headerlink" href="#trigger.models.TriggerRule.configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>A placeholder class that provides a way to set the attribute on the model.</p>
</dd></dl>

<dl class="method">
<dt id="trigger.models.TriggerRule.get_configuration">
<code class="descclassname">TriggerRule.</code><code class="descname">get_configuration</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#trigger.models.TriggerRule.get_configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the configuration for this trigger rule</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The configuration for this trigger rule</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="trigger.configuration.html#trigger.configuration.trigger_rule.TriggerRuleConfiguration" title="trigger.configuration.trigger_rule.TriggerRuleConfiguration"><code class="xref py py-class docutils literal"><span class="pre">trigger.configuration.trigger_rule.TriggerRuleConfiguration</span></code></a></td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="trigger.configuration.html#trigger.configuration.exceptions.InvalidTriggerType" title="trigger.configuration.exceptions.InvalidTriggerType"><code class="xref py py-class docutils literal"><span class="pre">trigger.configuration.exceptions.InvalidTriggerType</span></code></a>: If the trigger type is invalid</p>
</dd></dl>

<dl class="method">
<dt id="trigger.models.TriggerRule.get_next_by_created">
<code class="descclassname">TriggerRule.</code><code class="descname">get_next_by_created</code><span class="sig-paren">(</span><em>*moreargs</em>, <em>**morekwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.models.TriggerRule.get_next_by_created" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="trigger.models.TriggerRule.get_next_by_last_modified">
<code class="descclassname">TriggerRule.</code><code class="descname">get_next_by_last_modified</code><span class="sig-paren">(</span><em>*moreargs</em>, <em>**morekwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.models.TriggerRule.get_next_by_last_modified" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="trigger.models.TriggerRule.get_previous_by_created">
<code class="descclassname">TriggerRule.</code><code class="descname">get_previous_by_created</code><span class="sig-paren">(</span><em>*moreargs</em>, <em>**morekwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.models.TriggerRule.get_previous_by_created" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="trigger.models.TriggerRule.get_previous_by_last_modified">
<code class="descclassname">TriggerRule.</code><code class="descname">get_previous_by_last_modified</code><span class="sig-paren">(</span><em>*moreargs</em>, <em>**morekwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.models.TriggerRule.get_previous_by_last_modified" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="trigger.models.TriggerRule.jobtype_set">
<code class="descclassname">TriggerRule.</code><code class="descname">jobtype_set</code><a class="headerlink" href="#trigger.models.TriggerRule.jobtype_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="trigger.models.TriggerRule.natural_key">
<code class="descclassname">TriggerRule.</code><code class="descname">natural_key</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#trigger.models.TriggerRule.natural_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Django method to define the natural key for a trigger rule as the name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A tuple representing the natural key</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple(str,)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="trigger.models.TriggerRule.objects">
<code class="descclassname">TriggerRule.</code><code class="descname">objects</code><em class="property"> = &lt;trigger.models.TriggerRuleManager object&gt;</em><a class="headerlink" href="#trigger.models.TriggerRule.objects" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="trigger.models.TriggerRule.recipetype_set">
<code class="descclassname">TriggerRule.</code><code class="descname">recipetype_set</code><a class="headerlink" href="#trigger.models.TriggerRule.recipetype_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="trigger.models.TriggerRule.triggerevent_set">
<code class="descclassname">TriggerRule.</code><code class="descname">triggerevent_set</code><a class="headerlink" href="#trigger.models.TriggerRule.triggerevent_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="trigger.models.TriggerRuleManager">
<em class="property">class </em><code class="descclassname">trigger.models.</code><code class="descname">TriggerRuleManager</code><a class="headerlink" href="#trigger.models.TriggerRuleManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.db.models.manager.Manager</span></code></p>
<p>Provides additional methods for handling trigger rules</p>
<dl class="method">
<dt id="trigger.models.TriggerRuleManager.archive_trigger_rule">
<code class="descname">archive_trigger_rule</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.models.TriggerRuleManager.archive_trigger_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Archives the trigger rule (will no longer be active) with the given ID</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>trigger_rule_id</strong> (<em>int</em>) &#8211; The ID of the trigger rule to archive</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trigger.models.TriggerRuleManager.create_trigger_rule">
<code class="descname">create_trigger_rule</code><span class="sig-paren">(</span><em>trigger_type</em>, <em>configuration</em>, <em>name=u''</em>, <em>is_active=True</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.models.TriggerRuleManager.create_trigger_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new trigger rule and returns the rule model. The returned trigger rule model will be saved in the
database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>trigger_type</strong> (<em>str</em>) &#8211; The type of this trigger rule</li>
<li><strong>configuration</strong> (<code class="xref py py-class docutils literal"><span class="pre">trigger.configuration.TriggerRuleConfiguration</span></code>) &#8211; The rule configuration</li>
<li><strong>name</strong> (<em>str</em>) &#8211; An optional name for the trigger</li>
<li><strong>is_active</strong> (<em>bool</em>) &#8211; Whether or not the trigger should be active</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The new trigger rule</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#trigger.models.TriggerRule" title="trigger.models.TriggerRule"><code class="xref py py-class docutils literal"><span class="pre">trigger.models.TriggerRule</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="trigger.configuration.html#trigger.configuration.exceptions.InvalidTriggerRule" title="trigger.configuration.exceptions.InvalidTriggerRule"><strong>trigger.configuration.exceptions.InvalidTriggerRule</strong></a> &#8211; If the configuration is invalid</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trigger.models.TriggerRuleManager.get_by_natural_key">
<code class="descname">get_by_natural_key</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.models.TriggerRuleManager.get_by_natural_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Django method to retrieve a trigger rule for the given natural key. NOTE: All trigger rule names are NOT
unique. This is implemented to allow the loading of defined system trigger rules which do have unique names.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>str</em>) &#8211; The name of the trigger rule</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The trigger rule defined by the natural key</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="error.html#error.models.Error" title="error.models.Error"><code class="xref py py-class docutils literal"><span class="pre">error.models.Error</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-trigger.serializers">
<span id="trigger-serializers-module"></span><h2>trigger.serializers module<a class="headerlink" href="#module-trigger.serializers" title="Permalink to this headline">¶</a></h2>
<p>Defines the serializers for trigger events and rules</p>
<dl class="class">
<dt id="trigger.serializers.TriggerEventBaseSerializer">
<em class="property">class </em><code class="descclassname">trigger.serializers.</code><code class="descname">TriggerEventBaseSerializer</code><span class="sig-paren">(</span><em>instance=None</em>, <em>data=&lt;class rest_framework.fields.empty&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.serializers.TriggerEventBaseSerializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="util.html#util.rest.ModelIdSerializer" title="util.rest.ModelIdSerializer"><code class="xref py py-class docutils literal"><span class="pre">util.rest.ModelIdSerializer</span></code></a></p>
<p>Converts trigger event model fields to REST output.</p>
</dd></dl>

<dl class="class">
<dt id="trigger.serializers.TriggerEventDetailsSerializer">
<em class="property">class </em><code class="descclassname">trigger.serializers.</code><code class="descname">TriggerEventDetailsSerializer</code><span class="sig-paren">(</span><em>instance=None</em>, <em>data=&lt;class rest_framework.fields.empty&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.serializers.TriggerEventDetailsSerializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trigger.serializers.TriggerEventBaseSerializer" title="trigger.serializers.TriggerEventBaseSerializer"><code class="xref py py-class docutils literal"><span class="pre">trigger.serializers.TriggerEventBaseSerializer</span></code></a></p>
<p>Converts trigger event model fields to REST output.</p>
</dd></dl>

<dl class="class">
<dt id="trigger.serializers.TriggerEventSerializer">
<em class="property">class </em><code class="descclassname">trigger.serializers.</code><code class="descname">TriggerEventSerializer</code><span class="sig-paren">(</span><em>instance=None</em>, <em>data=&lt;class rest_framework.fields.empty&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.serializers.TriggerEventSerializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trigger.serializers.TriggerEventBaseSerializer" title="trigger.serializers.TriggerEventBaseSerializer"><code class="xref py py-class docutils literal"><span class="pre">trigger.serializers.TriggerEventBaseSerializer</span></code></a></p>
<p>Converts trigger event model fields to REST output.</p>
</dd></dl>

<dl class="class">
<dt id="trigger.serializers.TriggerRuleBaseSerializer">
<em class="property">class </em><code class="descclassname">trigger.serializers.</code><code class="descname">TriggerRuleBaseSerializer</code><span class="sig-paren">(</span><em>instance=None</em>, <em>data=&lt;class rest_framework.fields.empty&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.serializers.TriggerRuleBaseSerializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="util.html#util.rest.ModelIdSerializer" title="util.rest.ModelIdSerializer"><code class="xref py py-class docutils literal"><span class="pre">util.rest.ModelIdSerializer</span></code></a></p>
<p>Converts trigger rule model fields to REST output.</p>
</dd></dl>

<dl class="class">
<dt id="trigger.serializers.TriggerRuleDetailsSerializer">
<em class="property">class </em><code class="descclassname">trigger.serializers.</code><code class="descname">TriggerRuleDetailsSerializer</code><span class="sig-paren">(</span><em>instance=None</em>, <em>data=&lt;class rest_framework.fields.empty&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.serializers.TriggerRuleDetailsSerializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trigger.serializers.TriggerRuleBaseSerializer" title="trigger.serializers.TriggerRuleBaseSerializer"><code class="xref py py-class docutils literal"><span class="pre">trigger.serializers.TriggerRuleBaseSerializer</span></code></a></p>
<p>Converts trigger rule model fields to REST output.</p>
</dd></dl>

<dl class="class">
<dt id="trigger.serializers.TriggerRuleSerializer">
<em class="property">class </em><code class="descclassname">trigger.serializers.</code><code class="descname">TriggerRuleSerializer</code><span class="sig-paren">(</span><em>instance=None</em>, <em>data=&lt;class rest_framework.fields.empty&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#trigger.serializers.TriggerRuleSerializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trigger.serializers.TriggerRuleBaseSerializer" title="trigger.serializers.TriggerRuleBaseSerializer"><code class="xref py py-class docutils literal"><span class="pre">trigger.serializers.TriggerRuleBaseSerializer</span></code></a></p>
<p>Converts trigger rule model fields to REST output.</p>
</dd></dl>

</div>
<div class="section" id="module-trigger">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-trigger" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="trigger.configuration.html" class="btn btn-neutral float-right" title="trigger.configuration package" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="storage.test.configuration.html" class="btn btn-neutral" title="storage.test.configuration package" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, NGA.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'4.0.0-snapshot',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>