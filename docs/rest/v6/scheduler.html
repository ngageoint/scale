

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>v6 Scheduler Services &mdash; Scale 7.0.1-snapshot documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'7.0.1-snapshot',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="v6 Strike Services" href="strike.html" />
    <link rel="prev" title="v6 Scan Services" href="scan.html" />
    <link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Scale
          

          
            
            <img src="../../_static/scale3-transparent-128.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/index.html">Command Line Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../algorithm_integration/index.html">Algorithm Integration into Scale</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture/index.html">Architecture</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">REST API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#api-versions">API Versions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#current-v6-services">Current v6 Services</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="batch.html">v6 Batch Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html">v6 Data Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="diagnostic.html">v6 Diagnostic Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="error.html">v6 Error Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="ingest.html">v6 Ingest Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="job.html">v6 Job Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="job_type.html">v6 Job Type Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="metrics.html">v6 Metrics Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="node.html">v6 Node Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="queue.html">v6 Queue Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="recipe.html">v6 Recipe Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="recipe_type.html">v6 Recipe Type Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="scale_file.html">v6 Scale File Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="scan.html">v6 Scan Services</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">v6 Scheduler Services</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#v6-get-scheduler">v6 Get Scheduler</a></li>
<li class="toctree-l4"><a class="reference internal" href="#v6-update-scheduler">v6 Update Scheduler</a></li>
<li class="toctree-l4"><a class="reference internal" href="#v6-get-queued-resources">v6 Get Queued Resources</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="strike.html">v6 Strike Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="system.html">v6 System Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="timeline.html">v6 Timeline Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="workspace.html">v6 Workspace Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="deprecated.html">v6 Removals</a></li>
<li class="toctree-l3"><a class="reference internal" href="deprecated.html#v6-deprecated-messages">v6 Deprecated Messages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../install/index.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/index.html">Development</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Scale</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">REST API</a> &raquo;</li>
        
      <li>v6 Scheduler Services</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/rest/v6/scheduler.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="v6-scheduler-services">
<span id="rest-v6-scheduler"></span><h1>v6 Scheduler Services<a class="headerlink" href="#v6-scheduler-services" title="Permalink to this headline">¶</a></h1>
<p>These services provide access to information about the scheduler.</p>
<div class="section" id="v6-get-scheduler">
<span id="rest-v6-scheduler-details"></span><h2>v6 Get Scheduler<a class="headerlink" href="#v6-get-scheduler" title="Permalink to this headline">¶</a></h2>
<p><strong>Example GET /v6/scheduler/ API call</strong></p>
<p>Request: GET <a class="reference external" href="http://.../v6/scheduler/">http://.../v6/scheduler/</a></p>
<p>Response: 200 OK</p>
<blockquote>
<div><div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;is_paused&quot;</span><span class="o">:</span> <span class="nx">False</span><span class="p">,</span>
    <span class="s2">&quot;num_message_handlers&quot;</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;system_logging_level&quot;</span><span class="o">:</span> <span class="s1">&#39;INFO&#39;</span><span class="p">,</span>
    <span class="s2">&quot;queue_mode&quot;</span><span class="o">:</span> <span class="s1">&#39;FIFO&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="1%" />
<col width="16%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="4"><strong>Get Scheduler</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td colspan="4">Returns data for the scheduler</td>
</tr>
<tr class="row-odd"><td colspan="4"><strong>GET</strong> /v6/scheduler/</td>
</tr>
<tr class="row-even"><td colspan="4"><strong>Successful Response</strong></td>
</tr>
<tr class="row-odd"><td><strong>Status</strong></td>
<td colspan="3">200 OK</td>
</tr>
<tr class="row-even"><td><strong>Content Type</strong></td>
<td colspan="3"><em>application/json</em></td>
</tr>
<tr class="row-odd"><td colspan="4"><strong>JSON Fields</strong></td>
</tr>
<tr class="row-even"><td colspan="2">is_paused</td>
<td>Boolean</td>
<td>True if the scheduler is paused. This functions like individually pausing
all nodes but maintains separated state so toggling this back to unpaused
results in the previous individual node pause state.</td>
</tr>
<tr class="row-odd"><td colspan="2">num_message_handlers</td>
<td>Integer</td>
<td>The number of message handlers to have scheduled</td>
</tr>
<tr class="row-even"><td colspan="2">queue_mode</td>
<td>String</td>
<td>The mode the queue operates in (LIFO or FIFO); the default mode is FIFO.</td>
</tr>
<tr class="row-odd"><td colspan="2">system_logging_level</td>
<td>String</td>
<td>The logging level for all scale system components</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="v6-update-scheduler">
<span id="rest-v6-scheduler-update"></span><h2>v6 Update Scheduler<a class="headerlink" href="#v6-update-scheduler" title="Permalink to this headline">¶</a></h2>
<p><strong>Example PATCH /v6/scheduler/ API call</strong></p>
<p>Request: PATCH <a class="reference external" href="http://.../v6/scheduler/">http://.../v6/scheduler/</a></p>
<p>Response: 204 No content</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="1%" />
<col width="16%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="4"><strong>Update Scheduler</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td colspan="4">Update one or more fields for the scheduler.</td>
</tr>
<tr class="row-odd"><td colspan="4"><dl class="first last docutils">
<dt><strong>PATCH</strong> /v6/scheduler/</dt>
<dd>All fields are optional and additional fields are not tolerated.</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><strong>Content Type</strong></td>
<td colspan="3"><em>application/json</em></td>
</tr>
<tr class="row-odd"><td colspan="4"><strong>JSON Fields</strong></td>
</tr>
<tr class="row-even"><td colspan="2">is_paused</td>
<td>Boolean</td>
<td>(Optional) True if the scheduler should be paused, false to resume</td>
</tr>
<tr class="row-odd"><td colspan="2">num_message_handlers</td>
<td>Integer</td>
<td>(Optional) The number of message handlers to have scheduled</td>
</tr>
<tr class="row-even"><td colspan="2">queue_mode</td>
<td>String</td>
<td>(Optional) The mode the queue should operate in: last in first out vs first
in last out. Valid values are LIFO or FIFO.</td>
</tr>
<tr class="row-odd"><td colspan="2">system_logging_level</td>
<td>String</td>
<td>(Optional) The logging level sent to all scale system components.
Acceptable levels are DEBUG, INFO, WARNING, ERROR and CRITICAL.
Anything else will default to INFO</td>
</tr>
<tr class="row-even"><td colspan="4"><strong>Successful Response</strong></td>
</tr>
<tr class="row-odd"><td><strong>Status</strong></td>
<td colspan="3">204 No content</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="v6-get-queued-resources">
<span id="id1"></span><h2>v6 Get Queued Resources<a class="headerlink" href="#v6-get-queued-resources" title="Permalink to this headline">¶</a></h2>
<p><strong>Example GET /v6/scheduler/queued-resources/ API call</strong></p>
<p>Request: GET <a class="reference external" href="http://.../v6/scheduler/queued-resources/">http://.../v6/scheduler/queued-resources/</a></p>
<p>Response: 200 OK</p>
<blockquote>
<div><div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="s2">&quot;cluster_resources&quot;</span><span class="o">:</span> <span class="p">{</span>
         <span class="s1">&#39;cpus&#39;</span><span class="o">:</span> <span class="mf">252.0</span><span class="p">,</span>
         <span class="s1">&#39;disk&#39;</span><span class="o">:</span> <span class="mf">25120.0</span><span class="p">,</span>
         <span class="s1">&#39;gpus&#39;</span><span class="o">:</span> <span class="mf">0.0</span><span class="p">,</span>
         <span class="s1">&#39;mem&#39;</span><span class="o">:</span> <span class="mf">25120.0</span>
     <span class="p">},</span>
     <span class="s2">&quot;queue_lengths&quot;</span><span class="o">:</span> <span class="p">{</span>
         <span class="s1">&#39;PENDING&#39;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
         <span class="s1">&#39;QUEUED&#39;</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
         <span class="s1">&#39;RUNNING&#39;</span><span class="o">:</span> <span class="mi">0</span>
     <span class="p">},</span>
     <span class="s2">&quot;total_resources&quot;</span><span class="o">:</span> <span class="p">{</span>
         <span class="s1">&#39;PENDING&#39;</span><span class="o">:</span> <span class="p">{},</span>
         <span class="s1">&#39;QUEUED&#39;</span><span class="o">:</span> <span class="p">{</span><span class="s1">&#39;cpus&#39;</span><span class="o">:</span> <span class="mf">3.0</span><span class="p">,</span> <span class="s1">&#39;mem&#39;</span><span class="o">:</span> <span class="mf">384.0</span><span class="p">},</span>
         <span class="s1">&#39;RUNNING&#39;</span><span class="o">:</span> <span class="p">{}</span>
     <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="1%" />
<col width="16%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="4"><strong>Get Queued Resources</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td colspan="4">Returns resource information about all pending, queued, and running jobs.</td>
</tr>
<tr class="row-odd"><td colspan="4"><strong>GET</strong> /v6/scheduler/queued-resources/</td>
</tr>
<tr class="row-even"><td colspan="4"><strong>Successful Response</strong></td>
</tr>
<tr class="row-odd"><td><strong>Status</strong></td>
<td colspan="3">200 OK</td>
</tr>
<tr class="row-even"><td><strong>Content Type</strong></td>
<td colspan="3"><em>application/json</em></td>
</tr>
<tr class="row-odd"><td colspan="4"><strong>JSON Fields</strong></td>
</tr>
<tr class="row-even"><td colspan="2">cluster_resources</td>
<td>Dictionary</td>
<td>The total available resources for the entire cluster.</td>
</tr>
<tr class="row-odd"><td colspan="2">queue_lengths</td>
<td>Dictionary</td>
<td>The number of current pending, queued, and running jobs</td>
</tr>
<tr class="row-even"><td colspan="2">total_resources</td>
<td>Dictionary</td>
<td>The amount of total resources the pending, queued, and running jobs are
using.</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="strike.html" class="btn btn-neutral float-right" title="v6 Strike Services" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="scan.html" class="btn btn-neutral float-left" title="v6 Scan Services" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2015, NGA

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>